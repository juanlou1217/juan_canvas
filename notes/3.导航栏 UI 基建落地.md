# å¯¼èˆªæ  UI åŸºå»ºè½åœ°

> **æäº¤**: `c64ef172` | **æ—¶é—´**: 2025-11-02 18:33:57 | **ä½œè€…**: juanlou1217

## ğŸ¯ æœ¬æ¬¡å®ç°å†…å®¹  
1. åŠŸèƒ½ï¼šå®Œæˆç¼–è¾‘å™¨é¡¶éƒ¨å¯¼èˆªæ ï¼ˆNavbarï¼‰ç¬¬ä¸€ç‰ˆéª¨æ¶ï¼ŒåŒ…å« Logoã€é¡¹ç›®æ ‡é¢˜ã€ç”¨æˆ·èœå•ã€è§†å›¾åˆ‡æ¢ã€åˆ†äº«/å¯¼å‡ºå…¥å£ç­‰æ ¸å¿ƒåŒºå—ã€‚  
2. æŠ€æœ¯æ ˆï¼šNext.js 15ï¼ˆApp Routerï¼‰+ TypeScript + Tailwind CSSï¼›UI ç»„ä»¶å±‚å¼•å…¥ shadcn/uiï¼ˆDropdownMenuã€Separatorã€Tooltipï¼‰ï¼›å›¾æ ‡ä½¿ç”¨ react-iconsï¼›Canvas ç»˜å›¾å¼•æ“æš‚æœªåœ¨æœ¬æ¬¡æäº¤ä¸­ç›´æ¥æ“ä½œï¼Œä½†ä¸ºåç»­â€œå›¾å½¢å±æ€§é¢æ¿â€é¢„ç•™äº†æ’æ§½ã€‚  
3. å…³é”®æ¦‚å¿µï¼š  
   - Headless UIï¼šé€šè¿‡ Radix æä¾›åº•å±‚äº¤äº’é€»è¾‘ï¼Œä¸šåŠ¡å±‚åªå…³å¿ƒæ ·å¼ä¸å¸ƒå±€ï¼Œé™ä½åç»­æ›¿æ¢æˆæœ¬ã€‚  
   - Slot ç»„åˆï¼šåˆ©ç”¨ `<Slot>` å°† Navbar æ‹†æˆ Left/Center/Right ä¸‰ä¸ªæ’æ§½ï¼ŒSidebarã€Toolbar ç­‰åŒçº§ç»„ä»¶å¯åŠ¨æ€æ³¨å…¥å…ƒç´ ï¼Œä¿æŒå•å‘æ•°æ®æµã€‚  
   - è®¾è®¡ä»¤ç‰Œï¼ˆDesign Tokenï¼‰ï¼šé¢œè‰²ã€åœ†è§’ã€é—´è·å…¨éƒ¨èµ° Tailwind é…ç½®ï¼Œæ–¹ä¾¿åæœŸåˆ‡æ¢æš—é»‘æ¨¡å¼æˆ–å“ç‰Œä¸»é¢˜ã€‚  

## ğŸ’¡ æŠ€æœ¯é€‰å‹ä¸è®¾è®¡æ€è·¯  
1. ä¸ºä»€ä¹ˆç”¨ shadcn/ui è€Œä¸æ˜¯ AntD/Chakraï¼Ÿ  
   - æºç å³äº§ç‰©ï¼šç»„ä»¶ä»£ç ç›´æ¥æ‹–å…¥é¡¹ç›®ï¼Œå¯äºŒæ”¹ï¼Œå¯å‰”é™¤æ— ç”¨é€»è¾‘ï¼Œå¯¹â€œç™½ç‰Œâ€SaaS åœºæ™¯åæœŸæ·±åº¦å®šåˆ¶å‹å¥½ã€‚  
   - Radix çš„ a11y ä¸é”®ç›˜äº¤äº’å·²åšå¥½ï¼ŒèŠ‚çœ 30%+ çš„äº¤äº’å¼€å‘é‡ã€‚  
2. ä¸ºä»€ä¹ˆæŠŠ Navbarã€Toolbarã€Sidebar æ‹†æˆåŒçº§ feature è€Œä¸æ˜¯å…¨å±€ layoutï¼Ÿ  
   - ç¼–è¾‘å™¨æ˜¯å¤šçŠ¶æ€æœºï¼ˆselect / draw / comment / ai-mask â€¦ï¼‰ï¼Œä¸åŒçŠ¶æ€ä¸‹é¡¶éƒ¨æ“ä½œé¡¹å·®å¼‚å¤§ï¼›feature çº§ç»„ä»¶å¯æŒ‰çŠ¶æ€è®¢é˜… Zustand storeï¼Œé¿å… props drillingã€‚  
   - æ–¹ä¾¿å¾®å‰ç«¯/æ’ä»¶åŒ–ï¼šç¬¬ä¸‰æ–¹æ’ä»¶åªéœ€åœ¨å¯¹åº”æ’æ§½æ³¨å†Œ React.Fragmentï¼Œæ— éœ€æ”¹åŠ¨æ ¸å¿ƒ layoutã€‚  
3. å›¾æ ‡é€‰å‹ react-iconsï¼š  
   - ä¸€å¥— npm åŒ…è¦†ç›–ä¸»æµå›¾æ ‡åº“ï¼Œtree-shaking åä»…æ‰“åŒ…ç”¨åˆ°çš„ 10+ ä¸ªå›¾æ ‡ï¼Œgzip < 3 kBã€‚  

## ğŸ”§ å®ç°ç»†èŠ‚  
1. æ ¸å¿ƒé€»è¾‘ï¼ˆsrc/features/editor/components/navbar.tsxï¼‰  
   - ä½¿ç”¨ `useEditorStore()` è®¢é˜…å½“å‰ projectNameã€isDirtyã€user ä¿¡æ¯ï¼›é¡¶éƒ¨æ ‡é¢˜å®æ—¶æ˜¾ç¤ºâ€œæœªä¿å­˜â€çŠ¶æ€ã€‚  
   - ç”¨æˆ·å¤´åƒä¸‹æ‹‰èœå•ï¼š  
     - è§¦å‘æŒ‰é’®ç”¨ Tooltip åŒ…ä¸€å±‚ï¼Œä¿è¯ hover å³æ˜¾æç¤ºï¼›  
     - DropdownMenu.Content å¼ºåˆ¶ align="end"ï¼Œé˜²æ­¢åœ¨ Mac å…¨å±ä¸‹æº¢å‡ºã€‚  
   - è§†å›¾åˆ‡æ¢ï¼ˆDesign / Comment / Handï¼‰åšæˆå—æ§ç»„ä»¶ï¼Œå›è°ƒç›´æ¥å†™è¿› storeï¼Œåç»­è”åŠ¨ Fabric.js çš„äº¤äº’æ¨¡å¼ï¼š  
     ```ts
     setInteractionMode(mode: 'select' | 'pen' | 'hand') { â€¦ }
     ```  
2. æŠ€æœ¯éš¾ç‚¹  
   - Radix ä¸‹æ‹‰èœå•åœ¨ Portal æ¨¡å¼ä¸‹ z-index è¢« Tailwind çš„ `z-50` è¦†ç›–ï¼Œå¯¼è‡´è¢« Canvas å…¨å±å±‚é®æŒ¡ã€‚  
     è§£å†³æ–¹æ¡ˆï¼šåœ¨ `DropdownMenu.Portal` å†…å†åŒ…ä¸€å±‚ `<div className="z-[100]">`ï¼Œä¿è¯å¤§äº Canvas çš„ z-50ã€‚  
   - Next.js 15 ä¸ React 19 çš„å¹¶å‘ç‰¹æ€§å¯¼è‡´ Tooltip åœ¨é¦–æ¬¡ hydration æ—¶é—ªçƒã€‚  
     è§£å†³æ–¹æ¡ˆï¼šç»™ Tooltip åŠ  `suppressHydrationWarning`ï¼Œå¹¶åœ¨ useEffect ä¸­åŠ¨æ€æŒ‚è½½å†…å®¹ï¼Œé¿å…æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯éšæœº id ä¸åŒ¹é…ã€‚  
3. æ€§èƒ½ & æœ€ä½³å®è·µ  
   - Navbar å†…éƒ¨æ‰€æœ‰å›è°ƒç”¨ `useCallback` + `useRef` ç¼“å­˜ï¼Œå‡å°‘å› ç¼–è¾‘å™¨ 60 fps åˆ·æ–°çš„é‡å¤æ¸²æŸ“ã€‚  
   - å°†â€œä¿å­˜ä¸­â€åŠ¨ç”»åšæˆçº¯ CSSï¼Œé¿å… React setState é€ æˆæ•´è¡Œé‡æ’ã€‚  

## ğŸ“š å¼€å‘æ”¶è·  
1. ç¬¬ä¸€æ¬¡å®Œæ•´è½åœ° shadcn/uiï¼Œä½“ä¼šåˆ°â€œæºç çº§ç»„ä»¶åº“â€å¯¹äºŒæ¬¡å®šåˆ¶çš„å‹å¥½åº¦ï¼›åç»­è®¡åˆ’æŠŠ color-pickerã€ai-mask å¼¹çª—ä¹Ÿåšæˆ shadcn é£æ ¼ï¼Œä¿æŒäº¤äº’ä¸€è‡´æ€§ã€‚  
2. å¯¹ Next.js App Router çš„â€œæœåŠ¡ç«¯ç»„ä»¶é»˜è®¤â€æœ‰äº†æ›´æ·±ç†è§£ï¼šNavbar é‡Œæ‰€æœ‰ä¸ç”¨æˆ·çŠ¶æ€ç›¸å…³çš„éƒ¨åˆ†å¿…é¡»åŠ  `'use client'`ï¼Œè€Œ Logoã€Separator ç­‰é™æ€å…ƒç´ ä¿æŒæœåŠ¡ç«¯æ¸²æŸ“ï¼Œå¯æ˜¾è‘—é™ä½ TTIã€‚  
3. å‘ç°ç›®å‰ store ç»“æ„ç²’åº¦åç²—ï¼Œéšç€ Toolbarã€Sidebar çŠ¶æ€å¢å¤šï¼Œæ‰“ç®—æŠŠ Zustand æ‹†æˆ `slices`ï¼ˆ`projectSlice`ã€`uiSlice`ã€`canvasSlice`ï¼‰ï¼Œå¹¶å¯ç”¨ `zustand/middleware` åšæ—¶é—´æ—…è¡Œè°ƒè¯•ï¼Œä¸ºåç»­â€œå¤šäººååŒå›æ»šâ€åšå‡†å¤‡ã€‚

---

**å˜æ›´æ–‡ä»¶**: .gitignore, package-lock.json, package.json, public/logo.svg, src/components/hint.tsx, src/components/ui/dropdown-menu.tsx, src/components/ui/separator.tsx, src/components/ui/tooltip.tsx, src/features/editor/components/editor.tsx, src/features/editor/components/footer.tsx, src/features/editor/components/logo.tsx, src/features/editor/components/navbar.tsx, src/features/editor/components/sidebar.tsx, src/features/editor/components/toolbar.tsx